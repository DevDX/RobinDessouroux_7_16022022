{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"Profile\",\n\n  //Récupération du data grâce au v-model DEMANDER à Denis\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      nom: \"\",\n      prenom: \"\",\n      profil: \"\"\n    };\n  },\n\n  // utilisation d'axios pour envoi des données \n  methods: {\n    profile() {\n      axios.put(\"http://localhost:3000/api/auth/{this.id}\", {\n        uEmail: this.email,\n        uPassword: this.password,\n        uName: this.nom,\n        uFirstname: this.prenom,\n        uIsadmin: this.profil\n      }) // semblable à Postman \n      // Création et enregistrement des données dans localStorage \n      // et affichage des articles de la table post\n      .then(res => {\n        localStorage.setItem(\"groupomania-user\", JSON.stringify(res.data));\n        this.$router.push(\"post\");\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eACA;AACIC,MAAI,EAAE,SADV;;AAEI;AACAC,MAAI,GACJ;AACI,WAAO;AAACC,WAAK,EAAE,EAAR;AAAWC,cAAQ,EAAE,EAArB;AAAyBC,SAAG,EAAE,EAA9B;AAAkCC,YAAM,EAAE,EAA1C;AAA8CC,YAAM,EAAE;AAAtD,KAAP;AACH,GANL;;AAOI;AACAC,SAAO,EACP;AACIC,WAAO,GACP;AACIT,WAAI,CACHU,GADD,CACK,0CADL,EACiD;AAAEC,cAAM,EAAE,KAAKR,KAAf;AAAsBS,iBAAS,EAAE,KAAKR,QAAtC;AAAgDS,aAAK,EAAE,KAAKR,GAA5D;AAAiES,kBAAU,EAAE,KAAKR,MAAlF;AAA2FS,gBAAQ,EAAE,KAAKR;AAA1G,OADjD,EACuK;AACvK;AACA;AAHA,OAICS,IAJD,CAIOC,GAAD,IACN;AACIC,oBAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACf,IAAnB,CAAzC;AACA,aAAKoB,OAAL,CAAaC,IAAb,CAAkB,MAAlB;AACH,OARD,EASCC,KATD,CASQC,KAAD,IACP;AACIC,eAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAZD;AAaH;;AAhBL;AATJ,CADA","names":["axios","name","data","email","password","nom","prenom","profil","methods","profile","put","uEmail","uPassword","uName","uFirstname","uIsadmin","then","res","localStorage","setItem","JSON","stringify","$router","push","catch","error","console","log"],"sourceRoot":"","sources":["C:\\Users\\user\\Documents\\Openclassrooms\\Projets\\P7\\Projet_P7\\frontend\\src\\views\\ProfileView.vue"],"sourcesContent":["<template>\r\n<html lang=\"fr\">\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title>Groupomania réseau social interne</title> \r\n        <link rel=\"shortcut icon\" href=\"../image/icon.svg\"/>\r\n    </head>\r\n    <body>\r\n        <div class=\"signup\">\r\n\r\n            <header> \r\n                <img id=\"logo-groupomania-black\" src=\"../image/icon-left-font-monochrome-black.png\" alt=\"logo groupomania black\" sizes=\"(min-width: 20px) 100px, 5vw\"/>\r\n            </header>\r\n\r\n            <section id=\"choice\">\r\n                <h1>Mon Profil utilisateur</h1>\r\n\r\n                <section id=\"signup-form\">\r\n                    <form id=\"form_1\"> \r\n                        <fieldset class=\"FlexElt\">\r\n                            <legend>Mon Profil</legend> \r\n                            <legend>Informations personnelles</legend>\r\n                                        \r\n                            <div class=\"container\">\r\n                                <label for=\"profil\">Statut :</label>\r\n                                <select name=\"profil\" id=\"profil\">\r\n                                <option value=\"\">--SVP, sélectionnez votre profil</option>\r\n                                <option value=\"user\">Utilisateur</option>\r\n                                <option value=\"admin\">Administrateur</option>  \r\n                                </select>\r\n                            </div>\r\n                            <br> \r\n                            \r\n                            <label for=\"nom\">Nom :</label> <input class=\"FlexElt\" type=\"text\" name=\"nom\" required placeholder=\"Saisissez votre nom\" id=\"nom\" aria-label=\"Saisissez-votre nom\"/>   \r\n                            <br> \t\r\n                            <label for=\"prenom\">Prénom :</label> <input class=\"FlexElt\" type=\"text\" name=\"prenom\" required placeholder=\"Saisissez votre prénom\" id=\"prenom\" aria-label=\"Saisissez-votre prénom\"/>   \r\n                            <br> \t\t\t\t\t\r\n                            <label for=\"email\">Email :</label>\r\n                            <input class=\"FlexElt\" type=\"email\" name=\"email\" required placeholder=\"Saisissez votre email\" id=\"email\" /> \r\n                            <br> \t\r\n                            <label for=\"password\">Mot de passe :</label>\r\n                            <input class=\"FlexElt\" type=\"password\" name=\"password\" required placeholder=\"Saisissez votre mot de passe\" id=\"password\" /> \r\n                            <br>                      \r\n                            \r\n                            \r\n                            <button id=\"validation\" class=\"group-button\" type=\"submit\">Validation</button>\r\n                            <button id=\"deletion\" class=\"group-button\" type=\"submit\">Suppression</button>\r\n                        </fieldset>\r\n                    </form>\r\n                </section>\r\n\r\n                <nav> \r\n                    <ul>\r\n                    <li>\r\n                        <router-link class=\"link\" to=\"/accueil\"><p>Accueil</p></router-link>\r\n                    </li>\r\n                    </ul>\r\n                </nav>\r\n            </section>\r\n\r\n        </div>\r\n    </body>\r\n</html>        \r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default \r\n{\r\n    name: \"Profile\",\r\n    //Récupération du data grâce au v-model DEMANDER à Denis\r\n    data() \r\n    {\r\n        return {email: \"\",password: \"\", nom: \"\", prenom: \"\", profil: \"\"};\r\n    },\r\n    // utilisation d'axios pour envoi des données \r\n    methods: \r\n    {\r\n        profile() \r\n        {\r\n            axios\r\n            .put(\"http://localhost:3000/api/auth/{this.id}\", { uEmail: this.email, uPassword: this.password, uName: this.nom, uFirstname: this.prenom , uIsadmin: this.profil })   // semblable à Postman \r\n            // Création et enregistrement des données dans localStorage \r\n            // et affichage des articles de la table post\r\n            .then((res) => \r\n            {\r\n                localStorage.setItem(\"groupomania-user\", JSON.stringify(res.data));\r\n                this.$router.push(\"post\");\r\n            })\r\n            .catch((error) => \r\n            {\r\n                console.log(error);\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n*\r\n{\r\n    font-family: arial;  \r\n}\r\nbody\r\n{\r\n    margin: 0;\r\n    padding: 0;\r\n}    \r\nheader \r\n{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    background-color: #ffb233;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    min-width:320px;\r\n    margin-right:auto;\r\n    margin-left: auto;\r\n}\r\n/*#header*/ #logo-groupomania-black \r\n{\r\n    max-width: 170px;height:170px;    \r\n    padding: 0;\r\n    margin: 10px auto;\r\n}\r\nh1 \r\n{\r\n    background-color: #ffb233;\r\n    border-radius: 10px;\r\n    padding: 20px; /* à vérifier rdx */\r\n    /*margin: 10px 80px;*/\r\n    margin: 10px auto;\r\n    font-size: 30px;\r\n    display:flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;  \r\n    text-align: center;\r\n    /*border: 2px solid red;*/\r\n}\r\nh2\r\n{\r\n    background-color: #ffb233;\r\n    border-radius: 10px;\r\n    padding: 20px; /* à vérifier rdx */\r\n    /*margin: 15px 80px;*/\r\n    margin: 10px auto;\r\n    display:flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;  \r\n    text-align: center;\r\n    font-size:25px;\r\n    /*margin: 5px 350px;*/\r\n    /*min-width: 190px; *//* à vérifier */\r\n}    \r\n#choice nav ul li\r\n{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    /*margin-bottom: 5px;*/    \r\n} \r\nul\r\n{\r\n    padding:0;\r\n}\r\n.link \r\n{    \r\n    /*margin-left: auto; /* à vérifier rdx */\r\n    /*margin-left:0;*/\r\n    /*margin-right:auto; /* à vérifier rdx */\r\n    margin: 10px auto;\r\n    padding-left: 0;\r\n    /*padding-right: 10px;*/\r\n    font-size: 22px; /*font-size: 20px;*/ \r\n    font-weight: bold;\r\n    color: #000000;\r\n    border-top-left-radius: 10px;\r\n    border-bottom-left-radius: 10px;  \r\n    border-top-right-radius: 10px;\r\n    border-bottom-right-radius: 10px;  \r\n    background-color: #ffb233;\r\n    height: 50px; /*width:100%;*/width:150px;\r\n    align-content: center;\r\n    /*border: 1px solid;*/  \r\n    border: 1px solid #000000;\r\n    box-shadow: 0 0 4px black;\r\n}    \r\n/*.link*/ p \r\n{\r\n    text-align: center;\r\n    align-self: center;\r\n    /*margin: 10px auto;*/ margin: auto;\r\n    padding: 11px; \r\n}\r\n.link:hover\r\n{\r\n    background-color: #000000;\r\n    color: #ffffff;\r\n    transition: all .3s ease-in-out;\r\n}\r\n.FlexElt\r\n{\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    /*gap:20px;*/\r\n    min-width: 125px;\r\n    max-width: 275px;\r\n    /*height: 50px;\r\n    max-height: 50px;*/\r\n    width:100%;\r\n    /*border:solid green;*/\r\n    /*margin-bottom: 15px;*/\r\n    margin: 15px auto;\r\n    /*rdx couleur noire*/\r\n    color:#000000;font-weight: bold;font-size: 18px; \r\n    /*background-color: #ffb233;*/background-color: #ffffff;\r\n    justify-content: center; align-items: center;\r\n}\r\n.group-button\r\n{\r\n    color:#000000;font-weight: bold;\r\n    background-color: #ffb233;  \r\n    height:55px; width: 150px;\r\n    border-top-left-radius: 10px;\r\n    border-bottom-left-radius: 10px;  \r\n    border-top-right-radius: 10px;\r\n    border-bottom-right-radius: 10px;  \r\n    border: 1px solid #000000;\r\n    font-size: 20px; \r\n    box-shadow: 0 0 4px black;\r\n    margin-top:15px;\r\n}\r\n.group-button:hover\r\n{\r\n    background-color: #000000;\r\n    color: #ffffff; \r\n    transition: all .3s ease-in-out;\r\n}\r\nlegend\r\n{\r\n    background-color: #ffb233;\r\n    color: #000000;\r\n    border-top-left-radius: 5px;\r\n    border-bottom-left-radius: 5px;  \r\n    border-top-right-radius: 5px;\r\n    border-bottom-right-radius: 5px;      \r\n}\r\nselect\r\n{\r\n    font-size: 14px;\r\n\tborder-radius: 20px;\r\n\tborder: 1px solid #000000;\r\n\ttext-align: center;\r\n\ttext-align-last: center;        \r\n}\r\n.container\r\n{\r\n    display: flex;flex-wrap: wrap;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /*border: 1px solid #000000;*/\r\n    margin: 15px auto;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}