{"ast":null,"code":"import PostRoutes from \"../services/auth.post\";\nexport default {\n  name: \"AllPosts\",\n\n  data() {\n    return {\n      posts: []\n    }; //La liste d'articles est dans un tableau contenant plusieurs objets post        \n  },\n\n  methods: {\n    // Récupération des données des posts \n    retrievePosts() {\n      // Appel de PostRoutes (axios) pour autoriser la récupération des données\n      // avec la méthode getAll (get)\n      PostRoutes.getAll().then(res => {\n        this.posts = res.data; //this.posts = retrieve des datas et retourne le résultat avec les articles\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    logout() {\n      localStorage.removeItem(\"groupomania-user\");\n      this.$router.push(\"connexion\"); // à vérifier \n    }\n\n  },\n\n  // La fonction qui affiche les articles est montée dans le DOM\n  mounted() {\n    this.retrievePosts();\n  }\n\n};","map":{"version":3,"mappings":"AA8DA,OAAOA,UAAP,MAAuB,uBAAvB;AAEA,eACA;AACEC,MAAI,EAAE,UADR;;AAEEC,MAAI,GACJ;AACE,WAAO;AAAGC,WAAK,EAAE;AAAV,KAAP,CADF,CACyB;AACxB,GALH;;AAMEC,SAAO,EACP;AACE;AACAC,iBAAa,GACb;AACE;AACA;AACAL,gBAAU,CAACM,MAAX,GACGC,IADH,CACSC,GAAD,IACN;AACE,aAAKL,KAAL,GAAaK,GAAG,CAACN,IAAjB,CADF,CAC0B;AACzB,OAJH,EAKGO,KALH,CAKUC,KAAD,IACP;AACEC,eAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OARH;AASD,KAfH;;AAgBEG,UAAM,GACN;AACEC,kBAAY,CAACC,UAAb,CAAwB,kBAAxB;AACA,WAAKC,OAAL,CAAaC,IAAb,CAAkB,WAAlB,EAFF,CAEkC;AACjC;;AApBH,GAPF;;AA6BE;AACAC,SAAO,GACP;AACE,SAAKb,aAAL;AACD;;AAjCH,CADA","names":["PostRoutes","name","data","posts","methods","retrievePosts","getAll","then","res","catch","error","console","log","logout","localStorage","removeItem","$router","push","mounted"],"sourceRoot":"","sources":["C:\\Users\\user\\Documents\\Openclassrooms\\Projets\\P7\\Projet_P7\\frontend\\src\\views\\PostView.vue"],"sourcesContent":["<template>\r\n<!--DOCTYPE html-->\r\n<html lang=\"fr\">\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title>Groupomania réseau social interne</title> \r\n        <link rel=\"shortcut icon\" href=\"./image/icon.svg\"/>\r\n    </head>\r\n\r\n    <body>\r\n        <div class=\"all-posts\">\r\n            <header> \r\n                <img id=\"logo-groupomania-black\" src=\"./image/icon-left-font-monochrome-black.png\" alt=\"logo groupomania black\" sizes=\"(min-width: 20px) 100px, 5vw\"/>\r\n                <!--h1>Bienvenue sur le réseau social d'entreprise de Groupomania.</h1>\r\n                <h2>Rejoignez notre Communauté.</h2-->\r\n\r\n            <div class=\"FlexElt\"> \r\n                <nav>\r\n                    <ul>\r\n                    <li>\r\n                        <router-link class=\"link\" to=\"/mon_profil\"><p>Mon profil</p></router-link>\r\n                    </li>\r\n                    <li>\r\n                        <router-link to=\"/\" @click=\"logout\" class=\"link\"><p>Deconnexion</p></router-link\r\n                        >\r\n                    </li>\r\n                    <li>\r\n                        <router-link id=\"add-post\" class=\"link\" to=\"/ecrire-un-nouvel-article\"><p>Ajouter un article</p></router-link\r\n                        >\r\n                    </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n\r\n\r\n            </header>\r\n\r\n            <h1>Tous les articles</h1>\r\n\r\n            <!-- Page fil d'actualité : on charge une liste d'articles vertical avec\r\n            Nom et Prénom de l'auteur, date de publication, Titre & premiers mots du contenu. -->\r\n\r\n            <!-- Liste des articles, relié grâce à une boucle for\r\n            Afficher l'objet post dans le tableau posts -->\r\n            <ul id=\"list-container\">\r\n              <li id=\"post\" v-for=\"post in posts\" :key=\"post\">\r\n                  <h2>{{ post.title }}</h2>\r\n                  <div id=\"post-content\">{{ post.content }}</div>\r\n                  <div id=\"published\"> Publié le {{ post.createdAt }} par {{ post.user.name }} {{ post.user.lastname }}</div>\r\n\r\n                  <!-- Chemin qui redirige vers la page qui affiche l'article grâce à son id-->\r\n                  <router-link id=\"link-to-article\" :to=\"{ name: 'OnePost', params: { id: post.id } }\"\r\n                  >Lire l'article</router-link\r\n                  >\r\n              </li>\r\n            </ul>\r\n        </div>\r\n    </body> \r\n</html>   \r\n</template>\r\n\r\n<script>\r\nimport PostRoutes from \"../services/auth.post\";\r\n\r\nexport default \r\n{\r\n  name: \"AllPosts\",\r\n  data() \r\n  {\r\n    return {  posts: [] }; //La liste d'articles est dans un tableau contenant plusieurs objets post        \r\n  },\r\n  methods: \r\n  {\r\n    // Récupération des données des posts \r\n    retrievePosts() \r\n    {\r\n      // Appel de PostRoutes (axios) pour autoriser la récupération des données\r\n      // avec la méthode getAll (get)\r\n      PostRoutes.getAll()\r\n        .then((res) => \r\n        {          \r\n          this.posts = res.data;  //this.posts = retrieve des datas et retourne le résultat avec les articles\r\n        })\r\n        .catch((error) => \r\n        {\r\n          console.log(error);\r\n        });\r\n    },\r\n    logout() \r\n    {\r\n      localStorage.removeItem(\"groupomania-user\");\r\n      this.$router.push(\"connexion\"); // à vérifier \r\n    },\r\n  },\r\n  // La fonction qui affiche les articles est montée dans le DOM\r\n  mounted() \r\n  {\r\n    this.retrievePosts();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n* \r\n{\r\n  text-decoration: none;list-style-type: none; font-family: arial;  \r\n}\r\nbody,img\r\n{\r\n  margin: 0;\r\n  padding: 0;\r\n}  \r\nul\r\n{\r\n  padding:0;\r\n}    \r\nheader \r\n{\r\n  display: flex;\r\n  /*flex-direction: row;*/ flex-direction:column;\r\n  justify-content: center;\r\n  background-color: #ffb233;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  min-width:320px;\r\n  margin-right:auto;\r\n  margin-left: auto;\r\n}\r\n/*#header*/ #logo-groupomania-black \r\n{\r\n  max-width: 170px;height:170px;    \r\n  padding: 0;\r\n  margin: 10px auto;\r\n}  \r\nh1 \r\n{\r\n  background-color: #ffb233;\r\n  border-radius: 10px;\r\n  padding: 20px; /* à vérifier rdx */\r\n  /*margin: 10px 80px;*/\r\n  margin: 10px auto;\r\n  font-size: 30px;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;  \r\n  text-align: center;\r\n  /*border: 2px solid red;*/\r\n} \r\n.FlexElt\r\n{\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  /*gap:20px;*/\r\n  min-width: 125px;\r\n  max-width: 275px;\r\n  /*height: 50px;\r\n  max-height: 50px;*/\r\n  width:100%;\r\n  /*border:solid green;*/\r\n  /*margin-bottom: 15px;*/\r\n  margin: 0 auto 15px auto;\r\n  /*rdx couleur noire*/\r\n  color:#000000;font-weight: bold;font-size: 18px; \r\n  /*background-color: #ffb233;*/background-color:#ffffff;\r\n  justify-content: center;\r\n  border: 1px solid #000000;\r\n  border-top-left-radius: 10px;\r\n  border-bottom-left-radius: 10px;  \r\n  border-top-right-radius: 10px;\r\n  border-bottom-right-radius: 10px;    \r\n}   \r\n.link \r\n{    \r\n  /*margin-left: auto; /* à vérifier rdx */\r\n  /*margin-left:0;*/\r\n  /*margin-right:auto; /* à vérifier rdx */\r\n  margin: 10px auto;\r\n  padding-left: 0;\r\n  /*padding-right: 10px;*/\r\n  font-size: 18px; /*font-size: 20px;*/ \r\n  font-weight: bold;\r\n  color: #000000;\r\n  border-top-left-radius: 10px;\r\n  border-bottom-left-radius: 10px;  \r\n  border-top-right-radius: 10px;\r\n  border-bottom-right-radius: 10px;  \r\n  background-color: #ffb233;\r\n  height: 52px; /*width:100%;*/width:150px;\r\n  align-content: center;\r\n  /*border: 1px solid;*/  \r\n  border: 1px solid #000000;\r\n  box-shadow: 0 0 4px black;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n/*.link*/ p \r\n{\r\n  text-align: center;\r\n  align-self: center;\r\n  /*margin: 10px auto;*/ margin: auto;\r\n  padding: 11px; \r\n}\r\n.link:hover\r\n{\r\n  background-color: #000000;\r\n  color: #ffffff;\r\n  transition: all .3s ease-in-out;\r\n}    \r\n#list-container \r\n{\r\n  list-style-type: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n#post \r\n{\r\n  border-radius: 15px;\r\n  /*background-color: rgb(195, 233, 223);*/\r\n  background-color: #ffb233;  \r\n  margin: 20px;\r\n  padding: 40px;\r\n  width: 300px;\r\n  overflow: hidden;\r\n}\r\n#post-content \r\n{\r\n  text-overflow: ellipsis; \r\n  overflow: hidden;\r\n  margin-bottom: 20px;\r\n  white-space: nowrap;\r\n}\r\n#link-to-article \r\n{\r\n  border: 1px solid #000000;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  color: #000000;box-shadow: 0 0 4px black;\r\n  font-weight: bold;    \r\n}\r\n#link-to-article:hover\r\n{\r\n  background-color: #000000;\r\n  color: #ffffff;\r\n  transition: all .3s ease-in-out;\r\n}    \r\n#published \r\n{ \r\n  margin: 20px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}