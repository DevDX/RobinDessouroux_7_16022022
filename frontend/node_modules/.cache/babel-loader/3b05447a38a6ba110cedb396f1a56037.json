{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nimport _imports_0 from './image/icon-left-font-monochrome-black.png';\nconst _hoisted_1 = {\n  lang: \"fr\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"head\", null, [/*#__PURE__*/_createElementVNode(\"meta\", {\n  charset: \"utf-8\"\n}), /*#__PURE__*/_createElementVNode(\"title\", null, \"Groupomania réseau social interne\"), /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"shortcut icon\",\n  href: \"./image/icon.svg\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"all-posts\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  id: \"logo-groupomania-black\",\n  src: _imports_0,\n  alt: \"logo groupomania black\",\n  sizes: \"(min-width: 20px) 100px, 5vw\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"FlexElt\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Mon profil\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Deconnexion\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Ajouter un article\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Tous les articles\", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = {\n  id: \"list-container\"\n};\nconst _hoisted_11 = {\n  id: \"post-content\"\n};\nconst _hoisted_12 = {\n  id: \"published\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"Lire l'article\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\"DOCTYPE html\"), _createElementVNode(\"html\", _hoisted_1, [_hoisted_2, _createElementVNode(\"body\", null, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"header\", null, [_hoisted_4, _createCommentVNode(\"h1>Bienvenue sur le réseau social d'entreprise de Groupomania.</h1>\\r\\n                <h2>Rejoignez notre Communauté.</h2\"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    class: \"link\",\n    to: \"/mon_profil\"\n  }, {\n    default: _withCtx(() => [_hoisted_6]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\",\n    onClick: $options.logout,\n    class: \"link\"\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"onClick\"])]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    id: \"add-post\",\n    class: \"link\",\n    to: \"/ecrire-un-nouvel-article\"\n  }, {\n    default: _withCtx(() => [_hoisted_8]),\n    _: 1\n    /* STABLE */\n\n  })])])])])]), _hoisted_9, _createCommentVNode(\" Page fil d'actualité : on charge une liste d'articles vertical avec\\r\\n            Nom et Prénom de l'auteur, date de publication, Titre & premiers mots du contenu. \"), _createCommentVNode(\" Liste des articles, relié grâce à une boucle for\\r\\n            Afficher l'objet post dans le tableau posts \"), _createElementVNode(\"ul\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      id: \"post\",\n      key: post\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(post.title), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_11, _toDisplayString(post.content), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_12, \" Publié le \" + _toDisplayString(post.createdAt) + \" par \" + _toDisplayString(post.user.name) + \" \" + _toDisplayString(post.user.lastname), 1\n    /* TEXT */\n    ), _createCommentVNode(\" Chemin qui redirige vers la page qui affiche l'article grâce à son id\"), _createVNode(_component_router_link, {\n      id: \"link-to-article\",\n      to: {\n        name: 'OnePost',\n        params: {\n          id: post.id\n        }\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_13]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])])], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_imports_0","lang","_createElementVNode","charset","rel","href","class","id","src","alt","sizes","_createCommentVNode","_hoisted_2","_hoisted_4","_createVNode","_component_router_link","to","_hoisted_6","onClick","$options","_hoisted_7","_hoisted_8","_hoisted_9","_createElementBlock","_Fragment","_renderList","$data","post","key","_toDisplayString","title","content","createdAt","user","name","lastname","params"],"sourceRoot":"","sources":["C:\\Users\\user\\Documents\\Openclassrooms\\Projets\\P7\\Projet_P7\\frontend\\src\\views\\PostView.vue"],"sourcesContent":["<template>\r\n<!--DOCTYPE html-->\r\n<html lang=\"fr\">\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <title>Groupomania réseau social interne</title> \r\n        <link rel=\"shortcut icon\" href=\"./image/icon.svg\"/>\r\n    </head>\r\n\r\n    <body>\r\n        <div class=\"all-posts\">\r\n            <header> \r\n                <img id=\"logo-groupomania-black\" src=\"./image/icon-left-font-monochrome-black.png\" alt=\"logo groupomania black\" sizes=\"(min-width: 20px) 100px, 5vw\"/>\r\n                <!--h1>Bienvenue sur le réseau social d'entreprise de Groupomania.</h1>\r\n                <h2>Rejoignez notre Communauté.</h2-->\r\n\r\n            <div class=\"FlexElt\"> \r\n                <nav>\r\n                    <ul>\r\n                    <li>\r\n                        <router-link class=\"link\" to=\"/mon_profil\"><p>Mon profil</p></router-link>\r\n                    </li>\r\n                    <li>\r\n                        <router-link to=\"/\" @click=\"logout\" class=\"link\"><p>Deconnexion</p></router-link\r\n                        >\r\n                    </li>\r\n                    <li>\r\n                        <router-link id=\"add-post\" class=\"link\" to=\"/ecrire-un-nouvel-article\"><p>Ajouter un article</p></router-link\r\n                        >\r\n                    </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n\r\n\r\n            </header>\r\n\r\n            <h1>Tous les articles</h1>\r\n\r\n            <!-- Page fil d'actualité : on charge une liste d'articles vertical avec\r\n            Nom et Prénom de l'auteur, date de publication, Titre & premiers mots du contenu. -->\r\n\r\n            <!-- Liste des articles, relié grâce à une boucle for\r\n            Afficher l'objet post dans le tableau posts -->\r\n            <ul id=\"list-container\">\r\n              <li id=\"post\" v-for=\"post in posts\" :key=\"post\">\r\n                  <h2>{{ post.title }}</h2>\r\n                  <div id=\"post-content\">{{ post.content }}</div>\r\n                  <div id=\"published\"> Publié le {{ post.createdAt }} par {{ post.user.name }} {{ post.user.lastname }}</div>\r\n\r\n                  <!-- Chemin qui redirige vers la page qui affiche l'article grâce à son id-->\r\n                  <router-link id=\"link-to-article\" :to=\"{ name: 'OnePost', params: { id: post.id } }\"\r\n                  >Lire l'article</router-link\r\n                  >\r\n              </li>\r\n            </ul>\r\n        </div>\r\n    </body> \r\n</html>   \r\n</template>\r\n\r\n<script>\r\nimport PostRoutes from \"../services/auth.post\";\r\n\r\nexport default \r\n{\r\n  name: \"AllPosts\",\r\n  data() \r\n  {\r\n    return {  posts: [] }; //La liste d'articles est dans un tableau contenant plusieurs objets post        \r\n  },\r\n  methods: \r\n  {\r\n    // Récupération des données des posts \r\n    retrievePosts() \r\n    {\r\n      // Appel de PostRoutes (axios) pour autoriser la récupération des données\r\n      // avec la méthode getAll (get)\r\n      PostRoutes.getAll()\r\n        .then((res) => \r\n        {          \r\n          this.posts = res.data;  //this.posts = retrieve des datas et retourne le résultat avec les articles\r\n        })\r\n        .catch((error) => \r\n        {\r\n          console.log(error);\r\n        });\r\n    },\r\n    logout() \r\n    {\r\n      localStorage.removeItem(\"groupomania-user\");\r\n      this.$router.push(\"connexion\"); // à vérifier \r\n    },\r\n  },\r\n  // La fonction qui affiche les articles est montée dans le DOM\r\n  mounted() \r\n  {\r\n    this.retrievePosts();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n* \r\n{\r\n  text-decoration: none;list-style-type: none; font-family: arial;  \r\n}\r\nbody,img\r\n{\r\n  margin: 0;\r\n  padding: 0;\r\n}  \r\nul\r\n{\r\n  padding:0;\r\n}    \r\nheader \r\n{\r\n  display: flex;\r\n  /*flex-direction: row;*/ flex-direction:column;\r\n  justify-content: center;\r\n  background-color: #ffb233;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  min-width:320px;\r\n  margin-right:auto;\r\n  margin-left: auto;\r\n}\r\n/*#header*/ #logo-groupomania-black \r\n{\r\n  max-width: 170px;height:170px;    \r\n  padding: 0;\r\n  margin: 10px auto;\r\n}  \r\nh1 \r\n{\r\n  background-color: #ffb233;\r\n  border-radius: 10px;\r\n  padding: 20px; /* à vérifier rdx */\r\n  /*margin: 10px 80px;*/\r\n  margin: 10px auto;\r\n  font-size: 30px;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;  \r\n  text-align: center;\r\n  /*border: 2px solid red;*/\r\n} \r\n.FlexElt\r\n{\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  /*gap:20px;*/\r\n  min-width: 125px;\r\n  max-width: 275px;\r\n  /*height: 50px;\r\n  max-height: 50px;*/\r\n  width:100%;\r\n  /*border:solid green;*/\r\n  /*margin-bottom: 15px;*/\r\n  margin: 0 auto 15px auto;\r\n  /*rdx couleur noire*/\r\n  color:#000000;font-weight: bold;font-size: 18px; \r\n  /*background-color: #ffb233;*/background-color:#ffffff;\r\n  justify-content: center;\r\n  border: 1px solid #000000;\r\n  border-top-left-radius: 10px;\r\n  border-bottom-left-radius: 10px;  \r\n  border-top-right-radius: 10px;\r\n  border-bottom-right-radius: 10px;    \r\n}   \r\n.link \r\n{    \r\n  /*margin-left: auto; /* à vérifier rdx */\r\n  /*margin-left:0;*/\r\n  /*margin-right:auto; /* à vérifier rdx */\r\n  margin: 10px auto;\r\n  padding-left: 0;\r\n  /*padding-right: 10px;*/\r\n  font-size: 18px; /*font-size: 20px;*/ \r\n  font-weight: bold;\r\n  color: #000000;\r\n  border-top-left-radius: 10px;\r\n  border-bottom-left-radius: 10px;  \r\n  border-top-right-radius: 10px;\r\n  border-bottom-right-radius: 10px;  \r\n  background-color: #ffb233;\r\n  height: 52px; /*width:100%;*/width:150px;\r\n  align-content: center;\r\n  /*border: 1px solid;*/  \r\n  border: 1px solid #000000;\r\n  box-shadow: 0 0 4px black;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n/*.link*/ p \r\n{\r\n  text-align: center;\r\n  align-self: center;\r\n  /*margin: 10px auto;*/ margin: auto;\r\n  padding: 11px; \r\n}\r\n.link:hover\r\n{\r\n  background-color: #000000;\r\n  color: #ffffff;\r\n  transition: all .3s ease-in-out;\r\n}    \r\n#list-container \r\n{\r\n  list-style-type: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n#post \r\n{\r\n  border-radius: 15px;\r\n  /*background-color: rgb(195, 233, 223);*/\r\n  background-color: #ffb233;  \r\n  margin: 20px;\r\n  padding: 40px;\r\n  width: 300px;\r\n  overflow: hidden;\r\n}\r\n#post-content \r\n{\r\n  text-overflow: ellipsis; \r\n  overflow: hidden;\r\n  margin-bottom: 20px;\r\n  white-space: nowrap;\r\n}\r\n#link-to-article \r\n{\r\n  border: 1px solid #000000;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  color: #000000;box-shadow: 0 0 4px black;\r\n  font-weight: bold;    \r\n}\r\n#link-to-article:hover\r\n{\r\n  background-color: #000000;\r\n  color: #ffffff;\r\n  transition: all .3s ease-in-out;\r\n}    \r\n#published \r\n{ \r\n  margin: 20px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}